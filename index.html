<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora Genética Gecko Leopardo</title>
<style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { text-align: center; }
    .section { margin-bottom: 20px; }
    .gene-row { display: flex; align-items: center; margin-bottom: 6px; }
    .gene-row label { width: 200px; }
    select { margin-right: 10px; }
    #results div { margin-bottom: 8px; }
</style>
</head>
<body>

<h1>Calculadora Genética – Gecko Leopardo</h1>

<div class="section">
    <h2>Genes Recesivos</h2>
    <div id="recesivos">
        <div class="gene-row">
            <label>Tremper Albino:</label>
            <select id="TremperAlbino_padre"><option value="">Padre</option><option value="Het">Het</option><option value="Visual">Visual</option></select>
            <select id="TremperAlbino_madre"><option value="">Madre</option><option value="Het">Het</option><option value="Visual">Visual</option></select>
        </div>
        <div class="gene-row">
            <label>Bell Albino:</label>
            <select id="BellAlbino_padre"><option value="">Padre</option><option value="Het">Het</option><option value="Visual">Visual</option></select>
            <select id="BellAlbino_madre"><option value="">Madre</option><option value="Het">Het</option><option value="Visual">Visual</option></select>
        </div>
        <div class="gene-row">
            <label>Rainwater Albino:</label>
            <select id="RainwaterAlbino_padre"><option value="">Padre</option><option value="Het">Het</option><option value="Visual">Visual</option></select>
            <select id="RainwaterAlbino_madre"><option value="">Madre</option><option value="Het">Het</option><option value="Visual">Visual</option></select>
        </div>
        <div class="gene-row">
            <label>Eclipse:</label>
            <select id="Eclipse_padre"><option value="">Padre</option><option value="Het">Het</option><option value="Visual">Visual</option></select>
            <select id="Eclipse_madre"><option value="">Madre</option><option value="Het">Het</option><option value="Visual">Visual</option></select>
        </div>
    </div>
</div>

<div class="section">
    <h2>Genes Co-dominantes</h2>
    <div id="codominantes">
        <div class="gene-row">
            <label>Blizzard:</label>
            <select id="Blizzard_padre"><option value="">Padre</option><option value="Presente">Presente</option><option value="Super">Super</option></select>
            <select id="Blizzard_madre"><option value="">Madre</option><option value="Presente">Presente</option><option value="Super">Super</option></select>
        </div>
        <div class="gene-row">
            <label>Murphy Patternless:</label>
            <select id="MurphyPatternless_padre"><option value="">Padre</option><option value="Presente">Presente</option><option value="Super">Super</option></select>
            <select id="MurphyPatternless_madre"><option value="">Madre</option><option value="Presente">Presente</option><option value="Super">Super</option></select>
        </div>
        <div class="gene-row">
            <label>Mack Snow:</label>
            <select id="MackSnow_padre"><option value="">Padre</option><option value="Presente">Presente</option><option value="Super">Super</option></select>
            <select id="MackSnow_madre"><option value="">Madre</option><option value="Presente">Presente</option><option value="Super">Super</option></select>
        </div>
        <div class="gene-row">
            <label>Super Mack Snow:</label>
            <select id="SuperMackSnow_padre"><option value="">Padre</option><option value="Presente">Presente</option><option value="Super">Super</option></select>
            <select id="SuperMackSnow_madre"><option value="">Madre</option><option value="Presente">Presente</option><option value="Super">Super</option></select>
        </div>
        <div class="gene-row">
            <label>Giant:</label>
            <select id="Giant_padre"><option value="">Padre</option><option value="Presente">Presente</option><option value="Super">Super</option></select>
            <select id="Giant_madre"><option value="">Madre</option><option value="Presente">Presente</option><option value="Super">Super</option></select>
        </div>
        <div class="gene-row">
            <label>Super Giant:</label>
            <select id="SuperGiant_padre"><option value="">Padre</option><option value="Presente">Presente</option><option value="Super">Super</option></select>
            <select id="SuperGiant_madre"><option value="">Madre</option><option value="Presente">Presente</option><option value="Super">Super</option></select>
        </div>
    </div>
</div>

<div class="section">
    <h2>Genes Dominantes</h2>
    <div id="dominantes">
        <div class="gene-row">
            <label>Enigma:</label>
            <select id="Enigma_padre"><option value="">Padre</option><option value="Presente">Presente</option></select>
            <select id="Enigma_madre"><option value="">Madre</option><option value="Presente">Presente</option></select>
        </div>
        <div class="gene-row">
            <label>White & Yellow:</label>
            <select id="WhiteYellow_padre"><option value="">Padre</option><option value="Presente">Presente</option></select>
            <select id="WhiteYellow_madre"><option value="">Madre</option><option value="Presente">Presente</option></select>
        </div>
    </div>
</div>

<button onclick="render()">Calcular Cruce</button>

<div id="results"></div>

<script>
function render() {
    const resultsDiv = document.getElementById("results");
    resultsDiv.innerHTML = "";

    const genes = [
        "Tremper Albino",
        "Bell Albino",
        "Rainwater Albino",
        "Eclipse",
        "Blizzard",
        "Murphy Patternless",
        "Mack Snow",
        "Super Mack Snow",
        "Giant",
        "Super Giant",
        "Enigma",
        "White & Yellow"
    ];

    let madre = {};
    let padre = {};
    genes.forEach(g => {
        const idg = g.replace(/\s/g,'');
        padre[g] = document.getElementById(idg + "_padre").value;
        madre[g] = document.getElementById(idg + "_madre").value;
    });

    let resultados = {};
    genes.forEach(g => {
        const p = padre[g];
        const m = madre[g];
        if (!p && !m) return;
        resultados[g] = {};

        if (g.includes("Albino") || g === "Eclipse") {
            resultados[g]["visual"] = (p==="Visual"||m==="Visual")?25:0;
            resultados[g]["het"] = (p==="Het"||m==="Het")?50:0;
        } else if (["Mack Snow","Super Mack Snow","Blizzard","Murphy Patternless","Giant","Super Giant"].includes(g)) {
            if (p||m) resultados[g]["presente"]=true;
            if (p==="Super"||m==="Super") resultados[g]["super"]=true;
        } else {
            if (p||m) resultados[g]["presente"]=true;
        }
    });

    const resHTML = document.createElement("div");
    resHTML.innerHTML = "<h3>Resultados</h3>";
    for (const [g,val] of Object.entries(resultados)) {
        if (Object.keys(val).length===0) continue;
        let line = `<strong>${g}:</strong> `;
        line += Object.entries(val).map(([k,v])=>`${k}: ${v}`).join(", ");
        resHTML.innerHTML += `<div>${line}</div>`;
    }
    resultsDiv.appendChild(resHTML);

    const combos = [
        {name:"RAPTOR", genes:["Tremper Albino","Eclipse","Murphy Patternless"], line:"Tremper"},
        {name:"Diablo Blanco", genes:["Tremper Albino","Blizzard","Eclipse"], line:"Tremper"},
        {name:"Radar", genes:["Bell Albino","Eclipse"], line:"Bell"},
        {name:"Typhoon", genes:["Rainwater Albino","Eclipse"], line:"Rainwater"},
        {name:"Universe", genes:["Super Mack Snow","Eclipse","White & Yellow"], line:"Tremper"},
        {name:"Nova", genes:["Tremper Albino","Eclipse","Enigma"], line:"Tremper"}
    ];

    const combosLogrados = combos.filter(c=>{
        const lineaValida = c.line==="Tremper"?padre["Tremper Albino"]||madre["Tremper Albino"]:
                            c.line==="Bell"?padre["Bell Albino"]||madre["Bell Albino"]:
                            c.line==="Rainwater"?padre["Rainwater Albino"]||madre["Rainwater Albino"]:false;
        if(!lineaValida) return false;
        return c.genes.every(g=>resultados[g]);
    });

    const logradosDiv=document.createElement("div");
    logradosDiv.innerHTML="<h3>Combos logrados</h3>";
    combosLogrados.forEach(c=>{
        logradosDiv.innerHTML+=`<div style="background:#d4edda;padding:8px;margin:4px 0;">✅ ${c.name}<br>${c.genes.join("<br>")}</div>`;
    });
    resultsDiv.appendChild(logradosDiv);

    const rutasDiv=document.createElement("div");
    rutasDiv.innerHTML="<h3>Rutas a combos</h3>";
    combos.forEach(c=>{
        const lineaValida = c.line==="Tremper"?padre["Tremper Albino"]||madre["Tremper Albino"]:
                            c.line==="Bell"?padre["Bell Albino"]||madre["Bell Albino"]:
                            c.line==="Rainwater"?padre["Rainwater Albino"]||madre["Rainwater Albino"]:false;
        if(!lineaValida) return;
        const faltan=c.genes.filter(g=>!resultados[g]);
        if(faltan.length===0) return;
        rutasDiv.innerHTML+=`<div style="background:#fff3cd;padding:8px;margin:4px 0;">➡ Ruta a ${c.name}<br>Faltan:<br>${faltan.join("<br>")}</div>`;
    });
    resultsDiv.appendChild(rutasDiv);
}
</script>

</body>
</html>
